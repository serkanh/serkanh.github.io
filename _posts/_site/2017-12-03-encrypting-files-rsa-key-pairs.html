<p>My day job i use ssh… alot. When you manage hundreds of servers with mission critical infastructure running on passswordless login with ssh keys can be huge time saver. I also take security pretty seriously when it comes to store sensitive information and always looking to find better ways to store sensitive information securely and also in  a convenient way for it to be not cumbersome. 
With that thought combining ssh keys to encrypt/decrypt files made quite sense so here is a quick write up to do it for anyone else that are interested in it.</p>

<h5 id="1-create-or-open-a-file-that-you-would-like-to-encrypt">1. Create or open a file that you would like to encrypt.</h5>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  ~ echo "my super secret information" &gt; secret.txt
➜  ~ cat secret.txt 
my super secret information
</code></pre></div></div>
<h5 id="2-if-you-havent-already-create-a-rsa-key-pair-if-you-would-like-to-use-existing-rsa-key-pair-skip-this-step-and-continue-to-step-3">2. If you havent already create a rsa key pair. If you would like to use existing rsa key pair skip this step and continue to step 3.</h5>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-keygen
</code></pre></div></div>

<h5 id="3-export-your-generated-or-existing-public-key-to-pem-format">3. Export your generated or existing public key to pem format.</h5>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl rsa -in ~/.ssh/id_rsa -pubout &gt; ~/id_rsa.pub.pem
</code></pre></div></div>

<h5 id="4-now-you-are-ready-encrypt-the-file-you-created-earliear">4. Now you are ready encrypt the file you created earliear.</h5>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat secret.txt  | openssl rsautl -encrypt -pubin -inkey ~/id_rsa.pub.pem &gt; encrypted-secret.txt
cat encrypted-secret.txt 
????uG?????$?&amp;?????VN?'?(????,þQaE咫:?i??t?(?jr.g?#?ջO???=*?e??&lt;"?y'% 
</code></pre></div></div>

<h5 id="5-to-decypt-the-secret">5. To decypt the secret</h5>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  ~ cat encrypted-secret.txt  | openssl rsautl -decrypt -inkey ~/.ssh/id_rsa
my super secret information
</code></pre></div></div>

